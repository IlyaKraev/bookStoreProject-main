<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Page not found</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <style>

    </style>
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-lg navigation-clean-button"
        style="background-color: rgb(183,183,183);">
        <div class="container"><a class="navbar-brand" href="#"><img src="assets/img/logo.png"
                    style="height: auto;width: 50px;">Books &amp; Readables</a><button data-toggle="collapse"
                class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="nav navbar-nav mr-auto">
                    <li class="nav-item" role="presentation"><a class="nav-link active" href="#">Home</a></li>
                    <li class="nav-item dropdown"><a class="dropdown-toggle nav-link" data-toggle="dropdown"
                            aria-expanded="false" href="#">Explore</a>
                        <div class="dropdown-menu" role="menu" style="background-color: rgba(183,183,183,0.86);"><a
                                class="dropdown-item" role="presentation" href="#"><strong>Free</strong></a><a
                                class="dropdown-item" role="presentation" href="#"><strong>Category 1</strong></a><a
                                class="dropdown-item" role="presentation" href="#"><strong>Category 2</strong></a>
                            <a class="dropdown-item" role="presentation" href="#"><strong>Category 3</strong></a>
                        </div>
                    </li>
                    <li class="nav-item" role="presentation"></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" href="#">Contact Us</a></li>
                </ul><span class="navbar-text actions"> <a class="login" href="#">Log In</a><a
                        class="btn btn-light action-button" role="button" href="#"
                        style="background-color: rgb(255,167,103);">Sign Up</a></span>
            </div>
        </div>
    </nav>
    <div class="article-list" style="margin: 15px; margin-bottom:50px; padding: 10px; min-height: 50vh; height: 100%;">
        <div class="container mt-5">
            <div class="row text-center">
                <div class="col">
                    <h1>Search</h1>
                </div>
            </div>

                <div class="form-group text-center">
                    <h3>Once upon a midnight dreary, while I porn-surfed, weak and weary,
                        Over many a strange and spurious porn-site of "hot chicks galore",
                        While I clicked my fav'rite bookmark, suddenly there came a warning,
                        And my heart was filled with mourning, mourning for my dear amour,
                        "Tis not possible," I muttered, "give me back my free hardcore!"
                        Quoth the server, "404."</h3>
                </div>

        </div>
        <br>
        <hr style="height: 1px;background-color: #d1d1d1;">
        <div class="shopping-grid">
            <div class="container">
                <h3 class="text-center" id="searched"></h3>
                <div id="results" class="row">

                </div>
            </div>
        </div>
    </div>
    </div>
    </div>

    <div class="footer-dark" style="background-color: rgb(183,183,183); ; height:100%; color: rgb(0,0,0);">
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-md-3 item">
                        <h3>Shop</h3>
                        <ul>
                            <li><a href="#">Free books</a></li>
                            <li><a href="#">Explore books</a></li>
                            <li><a href="#">Comics &amp; manga</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 col-md-3 item">
                        <h3>Payment</h3>
                        <ul>
                            <li><a href="#">Methods of Payment&nbsp;</a></li>
                            <li><a href="#">How our credit system works</a></li>
                            <li><a href="#">Fill up my wallet</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 col-md-3 item">
                        <h3>About</h3>
                        <ul>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Team</a></li>
                            <li><a href="#">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col item social"><a href="#" style="color: rgb(0,0,0);"><i
                                class="icon ion-social-facebook"></i></a><a href="#"><i class="icon ion-social-twitter"
                                style="color: rgb(0,0,0);"></i></a><a href="#"><i class="icon ion-social-snapchat"
                                style="color: rgb(0,0,0);"></i></a>
                        <a href="#"><i class="icon ion-social-instagram" style="color: rgb(0,0,0);"></i></a>
                    </div>
                </div>
                <p class="copyright"><strong>Books &amp; Readables Â© 2020</strong></p>
            </div>
        </footer>
    </div>
    <script src="assets/js/jquery.min.js"></script>
    <!-- <script src="assets/js/jquery.min.js"></script> -->
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script>


        $("#go").click(function (e) {

            e.preventDefault();

        });

        const search = document.getElementById('search');
        const results = document.getElementById('results');
        const searched = document.getElementById('searched');

        // fetch('http://localhost:8080/api/author/getall')
        //     .then(res => res.json())
        //     .then(res => {
        //         res.data.map(authors => {
        //             console.log(authors.authorsId);
        //         });
        //     });

        const searchAuthors = async searchText => {

            const res = await fetch('http://localhost:8080/api/author/getall');
            const authors = await res.json();
            console.log(authors.authors);



            let matches = authors.authors.filter(obj => {
                console.log(obj);
                const regex = new RegExp(`^${searchText}`, 'gi');
                return obj.firstName.match(regex) || obj.lastName.match(regex);
            });

            if (searchText.length === 0) {
                searched.innerHTML = `Nothing searched, nothing found.`;
                matches = [];
                results.innerHTML = '';
            }
            else {
                searched.innerHTML = `Search results for: ` + search.value;
                if (matches.length === 0) {
                    searched.innerHTML = `Nothing found for: ` + search.value;
                    results.innerHTML = '';
                }
            }
            outputHtml(matches);
            console.log(searched);
        };

        const outputHtml = matches => {
            if (matches.length > 0) {
                const html = matches.map(match => `
                <div class="col-md-3 col-sm-6">
                    <div class="product-grid7">
                        <div class="product-image7">
                            <a href="#">
                                <img class="pic-1" src="assets/img/authors/author-${match.authorId}.jpg">
                            </a>
                            <ul class="social">
                                <li><a href="" class="fa fa-search"></a></li>
                                <li><a href="" class="fa fa-shopping-bag"></a></li>
                                <li><a href="" class="fa fa-shopping-cart"></a></li>
                            </ul>
                            <span class="product-new-label">${match.firstName} ${match.lastName} </span>
                        </div>
                        <div class="product-content">
                            <h3 class="title"><a href="#">${match.country}</a></h3>
                            <div class="price">$15.00
                            </div>
                        </div>
                    </div>
                </div>
                `).join('');

                results.innerHTML = html;

            }
        }

        $("#go").click(() => searchAuthors(search.value));



    </script>
</body>

</html>



<!-- <span>$20.00</span> -->

<!-- <ul class="rating">
    <li class="fa fa-star"></li>
    <li class="fa fa-star"></li>
    <li class="fa fa-star"></li>
    <li class="fa fa-star"></li>
    <li class="fa fa-star"></li>
</ul> -->